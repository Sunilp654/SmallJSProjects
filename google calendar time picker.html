<!DOCTYPE html>
<html lang="en">

<head>
    <title>Bootstrap Example</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        ul.dropDownList {
            padding: 0;
            margin: 0;
            list-style: none;
            position: absolute;
            top: 37px;
            border: 1px solid #ddd;
            width: 100%;
            height: 300px;
            overflow-y: auto;
            z-index: 9;
            background: #fff;
        }

        ul.dropDownList li {
            padding: 4px 6px;
            cursor: pointer;
        }

        ul.dropDownList li:hover {
            background: #7373eb;
            color: #fff;
        }

        ul.dropDownList li.activeLi {
            background: #7373eb;
            color: #fff;
        }
        ul.dropDownList li.activeLiET {
            background: #7373eb;
            color: #fff;
        }
        .StarttimeInput:focus-visible {
            outline: none;
        }
        .EndtimeInput:focus-visible {
            outline: none;
        }
    </style>
</head>

<body>

    <div class="container">
        <h2>Modal Example</h2>
        <!-- Button to Open the Modal -->
        <input type="hidden" id="hiddenStartTime" value="" />
        <input type="hidden" id="hiddenEndTime" value="" />
        <div class="row">
            <div class="col-md-6">
                <div class="customDropDown position-relative">
                    <input type="text" id="timeInput" value="12:00pm" class="w-100 StarttimeInput" />
                    <!-- <span class="DropdownArrow">V</span> -->
                    <ul class="dropDownList" style="visibility: hidden;" id="dropDownList">
                        <li>12:00am</li>
                        <li>12:15am</li>
                        <li>12:30am</li>
                        <li>12:45am</li>
                        <li>1:00am</li>
                        <li>1:15am</li>
                        <li>1:30am</li>
                        <li>1:45am</li>
                        <li>2:00am</li>
                        <li>2:15am</li>
                        <li>2:30am</li>
                        <li>2:45am</li>
                        <li>3:00am</li>
                        <li>3:15am</li>
                        <li class="activeLi">3:30am</li>
                        <li>3:45am</li>
                        <li>4:00am</li>
                        <li>4:15am</li>
                        <li>4:30am</li>
                        <li>4:45am</li>
                        <li>5:00am</li>
                        <li>5:15am</li>
                        <li>5:30am</li>
                        <li>5:45am</li>
                        <li>6:00am</li>
                        <li>6:15am</li>
                        <li>6:30am</li>
                        <li>6:45am</li>
                        <li>7:00am</li>
                        <li>7:15am</li>
                        <li>7:30am</li>
                        <li>7:45am</li>
                        <li>8:00am</li>
                        <li>8:15am</li>
                        <li>8:30am</li>
                        <li>8:45am</li>
                        <li>9:00am</li>
                        <li>9:15am</li>
                        <li>9:30am</li>
                        <li>9:45am</li>
                        <li>10:00am</li>
                        <li>10:15am</li>
                        <li>10:30am</li>
                        <li>10:45am</li>
                        <li>11:00am</li>
                        <li>11:15am</li>
                        <li>11:30am</li>
                        <li>11:45am</li>
                        <li>12:00pm</li>
                        <li>12:15pm</li>
                        <li>12:30pm</li>
                        <li>12:45pm</li>
                        <li>1:00pm</li>
                        <li>1:15pm</li>
                        <li>1:30pm</li>
                        <li>1:45pm</li>
                        <li>2:00pm</li>
                        <li>2:15pm</li>
                        <li>2:30pm</li>
                        <li>2:45pm</li>
                        <li>3:00pm</li>
                        <li>3:15pm</li>
                        <li>3:30pm</li>
                        <li>3:45pm</li>
                        <li>4:00pm</li>
                        <li>4:15pm</li>
                        <li>4:30pm</li>
                        <li>4:45pm</li>
                        <li>5:00pm</li>
                        <li>5:15pm</li>
                        <li>5:30pm</li>
                        <li>5:45pm</li>
                        <li>6:00pm</li>
                        <li>6:15pm</li>
                        <li>6:30pm</li>
                        <li>6:45pm</li>
                        <li>7:00pm</li>
                        <li>7:15pm</li>
                        <li>7:30pm</li>
                        <li>7:45pm</li>
                        <li>8:00pm</li>
                        <li>8:15pm</li>
                        <li>8:30pm</li>
                        <li>8:45pm</li>
                        <li>9:00pm</li>
                        <li>9:15pm</li>
                        <li>9:30pm</li>
                        <li>9:45pm</li>
                        <li>10:00pm</li>
                        <li>10:15pm</li>
                        <li>10:30pm</li>
                        <li>10:45pm</li>
                        <li>11:00pm</li>
                        <li>11:15pm</li>
                        <li>11:30pm</li>
                        <li>11:45pm</li>
                    </ul>
                </div>  
            </div>
            <div class="col-md-6">
                <div class="customDropDown position-relative">
                    <input type="text" id="EndtimeInput" value="12:30pm" class="w-100 EndtimeInput" />
                    <!-- <span class="DropdownArrow DropdownArrow1">V</span> -->
                    <ul class="dropDownList" style="visibility: hidden;" id="endTimedropDownList">
                    </ul>
                </div>
            </div>
        </div>

    </div>
<script>
const regex = /([0-9]|0[0-9]|1[0-9]|2[0-3]):([0-5][0-9])\s*([AaPp][Mm])/;
const regexTime = /^([0-1]?[0-9]|2?[0-3]|[0-9])[:\-\/]([0-5][0-9]|[0-9])$/;
const regexChar = /^[A-Za-z]+$/;
const regex60Min = /([1-5]?[0-9]|60)/;
const regex60MinwithPM = /([1-5]?[0-9]|60)([AaPp][Mm])/


var currentTime = new Date().toLocaleTimeString().replace(/([\d]+:[\d]{2})(:[\d]{2})(.*)/, "$1$3");
const arrowBtn = document.querySelector(".DropdownArrow");
const arrowBtn1 = document.querySelector(".DropdownArrow1");
let Timeinput = document.getElementById("timeInput");
let EndtimeInput = document.getElementById("EndtimeInput");
let TimecurrentValue = document.getElementById("timeInput");
let element = document.getElementById("dropDownList");
let element1 = document.getElementById("endTimedropDownList");
let activeItem = document.querySelector(".activeLi");
element.scrollTop = activeItem.offsetTop;
const numOfLis = element.querySelectorAll("li")
let timeArray = [];
let getTimeBeforeChange = TimecurrentValue.value;
let getEndTimeBeforeChange = EndtimeInput.value;
let timeDuration = {hours:"", minutes:""};
let EndTimeChange = false;

document.getElementById("hiddenStartTime").value = Timeinput.value;
document.getElementById("hiddenEndTime").value = EndtimeInput.value;

let globalStartTime = document.getElementById("hiddenStartTime").value;
let globalEndTime = document.getElementById("hiddenEndTime").value;

function formatTime(timeString) {
    //
	let IsPMAM = '';
	let _IsPMAM_Flag = false;
	let [hourString, minute] = timeString.split(":");
	if (minute) {
		if (minute.slice(-2).toLowerCase() == 'pm' || minute.slice(-2).toLowerCase() == 'am') {
			IsPMAM = minute.slice(-2).toLowerCase();
			minute = minute.substring(0, 2);
			_IsPMAM_Flag = true;
		}
		if (minute == '60') {
			minute = '00';
			hourString = (Number(hourString) + 1).toString();
		}
	} else {
		minute = '00';
	}
	//if(minute.slice(-2) == 'PM')
	const hour = +hourString % 24;
	if (!_IsPMAM_Flag) {
		if (Number(hourString) < 12) {
			return (hour % 12 || 12) + ":" + minute + (hour < 12 ? "am" : "pm");
		} else {
			return (hour % 12 || 12) + ":" + minute + (Number(hourString) < 12 ? "am" : "pm");
		}
	} else {
		return (hour % 12 || 12) + ":" + minute + IsPMAM;
	}

}
Timeinput.addEventListener("input", () => {
	var strFirstThree = Timeinput.value;
	if (strFirstThree.substring(0, 3).match(regexChar) || (strFirstThree.length <= 2 && strFirstThree > 24) || Number(Timeinput.value) > 2460 || strFirstThree.length >= 8 || (Number(Timeinput.value.slice(-2)) > 60 && Timeinput.value.length >= 3)) {
		Timeinput.style.border = "1px solid #FF0000";
	} 
    else 
    {
		Timeinput.style.border = "1px solid";
        const inputValue = Timeinput.value;
	}

})
Timeinput.addEventListener("focusin", () => {
    //
	getTimeBefore = TimecurrentValue.value;
    element.style.visibility = "visible";
})
Timeinput.addEventListener("focusout", () => {
    debugger
    getTimeBeforeChange = globalStartTime;
    getEndTimeBeforeChange = globalEndTime;
    getTimeDifference(getTimeBeforeChange, getEndTimeBeforeChange)
	onchangeTimeInput()
    //toHoursAndMinutes(Timeinput.value)
    
    if(!element.classList.contains('activeDiv')){
        startInputChange(Timeinput.value);
         element.style.visibility = "hidden";
    }
    globalStartTime = Timeinput.value;
    globalEndTime = EndtimeInput.value;
});
element.addEventListener('click', (e) => {
     makeLiactive(e)
 });
element.addEventListener("mouseover", ()=>{
        element.classList.add('activeDiv');
 });
element.addEventListener("mouseout", ()=>{
        element.classList.remove('activeDiv');
 });
function makeLiactive(e){
    getTimeBeforeChange = globalStartTime;
    getEndTimeBeforeChange = globalEndTime;
    getTimeDifference(getTimeBeforeChange, getEndTimeBeforeChange)
    let activeItem = document.querySelector(".activeLi");
     if (e.target.tagName === 'LI') {
         dropDownList.style.visibility = "hidden";
         Timeinput.value = e.target.innerHTML.toLowerCase();
         activeItem.classList.remove('activeLi');
         e.target.classList.add("activeLi");
         var data = document.querySelector(".activeLi");
         element.scrollTop = data.offsetTop;
        startInputChange(Timeinput.value.toLowerCase())
     }
    globalStartTime = Timeinput.value;
    globalEndTime = EndtimeInput.value;
}
function onchangeTimeInput(){
var strFirstThree = Timeinput.value;
	if (strFirstThree.substring(0, 3).match(regexChar) || (strFirstThree.length <= 2 && Number(strFirstThree) < 24)) {
		Timeinput.value = formatTime(Timeinput.value);
		Timeinput.style.border = "1px solid";
	} 
    else {
		if (Number(Timeinput.value) > 2460 || strFirstThree.length >= 8 || (Number(Timeinput.value.slice(-2)) > 60 && Timeinput.value.length > 3)) {
			// Timeinput.style.border = "1px solid #FF0000";
			Timeinput.value = getTimeBefore;
			Timeinput.style.border = "1px solid";
		} else {
			if (Timeinput.value.match(regex)) {
				//Timeinput.value = Timeinput.value;
				Timeinput.value = formatTime(Timeinput.value);
			} else {
				if (Timeinput.value.match(regexTime)) {
					Timeinput.value = formatTime(Timeinput.value);
					//console.log(Timeinput.value)
				} else {
					let getTime = Timeinput.value.substring(0, 4);
					timeArray = getTime.split("");
					
					if (Timeinput.value) {
						if (Number(Timeinput.value) <= 2460 && Number(Timeinput.value.length) == 4) 
                        {
							let finalTime = `${timeArray[0]}${timeArray[1]}:${timeArray[2]}${timeArray[3]}`;
							Timeinput.value = formatTime(finalTime);
							Timeinput.style.border = "1px solid";

						} 
                        else if (Number(Timeinput.value.length) == 3) {
							let finalTime = "";
							if (Timeinput.value.slice(-2) == 'am' || Timeinput.value.slice(-2) == 'pm') 
                            {
								Timeinput.value.slice(-2) == 'pm' ? finalTime = `${timeArray[0]}:00pm` : finalTime = `${timeArray[0]}:00am`;
							} 
                            else if (timeArray[0] < 1) 
                            {
								finalTime = `${timeArray[0]}0:${timeArray[1]}${timeArray[2]}`;
							}
                            else if(Number(Timeinput.value.slice(-2)) < 60)
                            {
                               finalTime = `${Number(Timeinput.value.substring(0, 1))}:${timeArray[1]}${timeArray[2]}`;
							}
                            else if (Number(Timeinput.value.slice(-2) >= 60)) 
                            {
									Timeinput.style.border = "1px solid #FF0000";
                                    finalTime = getTimeBefore;
							} 
                            else 
                            {
									finalTime = getTimeBefore;
							}
							
							Timeinput.value = formatTime(finalTime);
							Timeinput.style.border = "1px solid";
						} 
                        else if (Timeinput.value.match(regex60Min) && Number(Timeinput.value.slice(-2) <= 60)) 
                        {
							if (Timeinput.value.match(regex60Min).input.slice(-2) == '60') 
                            {
								finalTime = `${Number(Timeinput.value.match(regex60Min)[0])+1}:00am`;
							} 
                            else 
                            {
								finalTime = Timeinput.value.match(regex60Min).input.slice(-2) == 'am' ? `${Number(Timeinput.value.match(regex60Min)[0])+1}:00am` : `${Number(Timeinput.value.match(regex60Min)[0])+1}:00pm`;
							}
							Timeinput.value = formatTime(finalTime);
						}
                        else
                        {
                            Timeinput.value = getTimeBefore;
                        }
					}
				}
			}

		}

	}

}
function toHoursAndMinutes(totalMinutes) {
  const hours = Math.floor(totalMinutes / 60);
  const minutes = totalMinutes % 60;
  return { hours, minutes };
} // { hours: 1, minutes: 40 }
const startInputChange = (startTime) => {
    
    // Convert the start time to Date object
    let [time, modifier] = startTime.split(/(am|pm)/);
    let [hours, minutes] = time.split(':');
    hours = parseInt(hours);
    minutes = parseInt(minutes);

    // Adjust hours for 12-hour format
    if (modifier === 'pm' && hours < 12) {
        hours += 12;
    }
    if (modifier === 'am' && hours === 12) {
        hours = 0;
    }

    // Create a Date object
    let startDate = new Date();
    startDate.setHours(hours);
    startDate.setMinutes(minutes);
    startDate.setSeconds(0);

    // Create a dropdown element
    const UlList = document.getElementById("endTimedropDownList");

    // Generate time slots with 15-minute intervals
    let LiList = '';
    for (let i = 0; i < 96; i++) { 
        // Format the time
        let formattedTime = startDate.toLocaleString("en-US", {
            hour: 'numeric',
            minute: 'numeric',
            hour12: true
        });

        // Calculate the time difference in minutes
        const timeDifferenceInMinutes = i * 15;
        
        // Format time difference to show hours and minutes
        let distanceText = timeDifferenceInMinutes >= 60 
            ? ` (${Math.floor(timeDifferenceInMinutes / 60)} hr ${timeDifferenceInMinutes % 60} min)` 
            : ` (${timeDifferenceInMinutes} min)`;

        // Create list item
        LiList += `<li>${formattedTime.replaceAll(' ', '').toLowerCase() + distanceText}</li>`;
        
        // Increment by 15 minutes
        startDate.setMinutes(startDate.getMinutes() + 15);
    }
    //
    UlList.innerHTML = LiList;
    UlList.querySelector('li');
    UlList.children[2].classList.add('activeLiET');
    //let timeGap = getTimeDifference(startTime, endTime)
    getTimeWithAddedHour(startTime);
  
    
    // Append the select to the body or any other desired element
   // document.body.appendChild(UlList);
};
function getTimeWithAddedHour(baseTimeString) {
   debugger
    // Parse the input time string
    const [time, period] = baseTimeString.toLowerCase().split(/(?=[ap]m)/);
    const [hours, minutes] = time.split(':').map(Number);

    // Create a date object
    const currentTime = new Date();
    
    // Set hours based on input
    let adjustedHours = hours;
    if (period === 'pm' && hours !== 12) {
        adjustedHours += 12;
    } else if (period === 'am' && hours === 12) {
        adjustedHours = 0;
    }
    
    currentTime.setHours(adjustedHours, minutes, 0, 0);
    
    if(timeDuration.minutes > 0 && timeDuration.hours == 0)
    {
        currentTime.setMinutes(currentTime.getMinutes() + timeDuration.minutes);

    }
    else if(timeDuration.hours > 0 && timeDuration.minutes == 0){
        currentTime.setHours(currentTime.getHours() + timeDuration.hours);
    }
    else if(timeDuration.hours > 0 && timeDuration.hours > 0){
        currentTime.setHours(currentTime.getHours() + timeDuration.hours);
        currentTime.setMinutes(currentTime.getMinutes() + timeDuration.minutes);
    }
    else{
        currentTime.setMinutes(currentTime.getMinutes() + 30);
    }
    // Format the result
    formatTimeforEndTime(currentTime);
    EndtimeInput.value = formatTimeforEndTime(currentTime).replace(" ","").toLowerCase();
}
// Function to format time with hours, minutes, and AM/PM
function formatTimeforEndTime(date) {
    return date.toLocaleTimeString('en-US', {
        hour: 'numeric',
        minute: '2-digit',
        hour12: true
    });
}
startInputChange(Timeinput.value)

function getTimeDifference(startTime, endTime) {
   // debugger
    // Helper function to convert 12-hour time to 24-hour time with standardized formatting
    const convertTo24Hour = (time) => {
        // Remove any existing whitespace and ensure AM/PM is uppercase
        time = time.trim().replace(/\s*([ap]m)\s*/i, ' $1').toUpperCase();
        
        // Split time into time and AM/PM
        const [timePart, period] = time.split(/\s+/);
        
        // Split hours and minutes
        let [hours, minutes] = timePart.split(':').map(Number);
        
        // Convert to 24-hour format
        if (period === 'PM' && hours !== 12) {
            hours += 12;
        }
        if (period === 'AM' && hours === 12) {
            hours = 0;
        }
        
        // Pad with zero if needed
        return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}`;
    };

    // Validate input
    if (!startTime || !endTime) {
        throw new Error('Both start and end times are required');
    }

    // Convert to 24-hour format
    const start24 = convertTo24Hour(startTime);
    const end24 = convertTo24Hour(endTime);

    // Parse start and end times
    const start = new Date(`2000-01-01T${start24}:00`);
    const end = new Date(`2000-01-01T${end24}:00`);

    // Calculate time difference
    let diff = end - start;

    // Handle cases where end time is on the next day
    if (diff < 0) {
        end.setDate(end.getDate() + 1);
        diff = end - start;
    }

    // Convert milliseconds to hours and minutes
    const hours = Math.floor(diff / (1000 * 60 * 60));
    const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));

    timeDuration.hours = hours
    timeDuration.minutes = minutes
    // Return time difference
    // return {
    //     hours,
    //     minutes,
    //     formattedDuration: `${hours} hours ${minutes} minutes`
    // };
}

// Test cases
//console.log(getTimeDifference('9:30am', '11:45 AM'));


// Example usage
//console.log(getTimeDifference('09:30pm', '17:45'));

//End Time Functionality //
EndtimeInput.addEventListener("input", () => {
	var strFirstThree = EndtimeInput.value;
	if (strFirstThree.substring(0, 3).match(regexChar) || (strFirstThree.length <= 2 && strFirstThree > 24) || Number(EndtimeInput.value) > 2460 || strFirstThree.length >= 8 || (Number(EndtimeInput.value.slice(-2)) > 60 && EndtimeInput.value.length >= 3)) {
		EndtimeInput.style.border = "1px solid #FF0000";
	} 
    else 
    {
		EndtimeInput.style.border = "1px solid";
        const inputValue = EndtimeInput.value;
	}

})
EndtimeInput.addEventListener("focusin", () => {
    element1.style.visibility = "visible";
})
EndtimeInput.addEventListener("focusout", () => {
    onchangeEndTimeInput()
    if(!element1.classList.contains('activeDiv')){
        element1.style.visibility = "hidden";
    }
    globalEndTime = EndtimeInput.value;
});
element1.addEventListener('click', (e) => {
     makeLiactiveEndTime(e)
 });
element1.addEventListener("mouseover", ()=>{
        element1.classList.add('activeDiv');
 });
element1.addEventListener("mouseout", ()=>{
        element1.classList.remove('activeDiv');
 });
function makeLiactiveEndTime(e){
    
    let activeItem = document.querySelector(".activeLiET");
     if (e.target.tagName === 'LI') {
         element1.style.visibility = "hidden";
         EndtimeInput.value = e.target.innerHTML.replace(/\ .*/,'').toLowerCase();
         activeItem.classList.remove('activeLiET');
         e.target.classList.add("activeLiET");
         var data = document.querySelector(".activeLiET");
         element1.scrollTop = data.offsetTop;
         EndTimeChange = true;
        //startInputChange(EndtimeInput.value.toLowerCase())
     }
     globalEndTime = EndtimeInput.value;
}
function onchangeEndTimeInput(){
   // 
    var strFirstThree = EndtimeInput.value;
	if (strFirstThree.substring(0, 3).match(regexChar) || (strFirstThree.length <= 2 && Number(strFirstThree) < 24)) {
		EndtimeInput.value = formatTime(EndtimeInput.value);
		EndtimeInput.style.border = "1px solid";
	} 
    else {
		if (Number(EndtimeInput.value) > 2460 || strFirstThree.length >= 8 || (Number(EndtimeInput.value.slice(-2)) > 60 && EndtimeInput.value.length > 3)) {
			// Timeinput.style.border = "1px solid #FF0000";
			EndtimeInput.value = getTimeBefore;
			EndtimeInput.style.border = "1px solid";
		} else {
			if (EndtimeInput.value.match(regex)) {
				//EndtimeInput.value = EndtimeInput.value;
				EndtimeInput.value = formatTime(EndtimeInput.value);
			} else {
				if (EndtimeInput.value.match(regexTime)) {
					EndtimeInput.value = formatTime(EndtimeInput.value);
					//console.log(Timeinput.value)
				} else {
					let getTime = EndtimeInput.value.substring(0, 4);
					timeArray = getTime.split("");
					
					if (EndtimeInput.value) {
						if (Number(EndtimeInput.value) <= 2460 && Number(EndtimeInput.value.length) == 4) 
                        {
							let finalTime = `${timeArray[0]}${timeArray[1]}:${timeArray[2]}${timeArray[3]}`;
							EndtimeInput.value = formatTime(finalTime);
							EndtimeInput.style.border = "1px solid";

						} 
                        else if (Number(EndtimeInput.value.length) == 3) {
							let finalTime = "";
							if (EndtimeInput.value.slice(-2) == 'am' || EndtimeInput.value.slice(-2) == 'pm') 
                            {
								EndtimeInput.value.slice(-2) == 'pm' ? finalTime = `${timeArray[0]}:00pm` : finalTime = `${timeArray[0]}:00am`;
							} 
                            else if (timeArray[0] < 1) 
                            {
								finalTime = `${timeArray[0]}0:${timeArray[1]}${timeArray[2]}`;
							}
                            else if(Number(EndtimeInput.value.slice(-2)) < 60)
                            {
                               finalTime = `${Number(EndtimeInput.value.substring(0, 1))}:${timeArray[1]}${timeArray[2]}`;
							}
                            else if (Number(EndtimeInput.value.slice(-2) >= 60)) 
                            {
									EndtimeInput.style.border = "1px solid #FF0000";
                                    finalTime = getEndTimeBefore;
							} 
                            else 
                            {
									finalTime = getEndTimeBefore;
							}
							
							EndtimeInput.value = formatTime(finalTime);
							EndtimeInput.style.border = "1px solid";
						} 
                        else if (EndtimeInput.value.match(regex60Min) && Number(EndtimeInput.value.slice(-2) <= 60)) 
                        {
							if (EndtimeInput.value.match(regex60Min).input.slice(-2) == '60') 
                            {
								finalTime = `${Number(EndtimeInput.value.match(regex60Min)[0])+1}:00am`;
							} 
                            else 
                            {
								finalTime = EndtimeInput.value.match(regex60Min).input.slice(-2) == 'am' ? `${Number(EndtimeInput.value.match(regex60Min)[0])+1}:00am` : `${Number(EndtimeInput.value.match(regex60Min)[0])+1}:00pm`;
							}
							EndtimeInput.value = formatTime(finalTime);
                            EndTimeChange = true;
						}
                        else
                        {
                            EndtimeInput.value = getEndTimeBefore;
                        }
                        
					}
				}
			}

		}

	}

}

</script>
</body>

</html>

